<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            JNI(调用JNI函数) | 
        
        星家|不会搬砖的码农
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
    
        <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="罗炜光">
    <meta name="description" itemprop="description" content="示例程序运行顺序
调用JNI本地函数
访问静态成员获取值
创建JniTest对象
调用JniTest对象的方法
传递返回值
访问成员变量设定其值
">
    <meta name="keywords" content="null,Java,JNI,Java进阶">

    <!-- Site Verification -->
    
    <meta name="baidu-site-verification" content="9KipFitrC9" />

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicons.pngg">
    <link rel="icon" sizes="192x192" href="/img/favicons.png">
    <link rel="apple-touch-icon" href="/img/favicons.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="星家|不会搬砖的码农">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://luoweiguang.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="JNI(调用JNI函数) | 星家|不会搬砖的码农">
    <meta property="og:image" content="/img/favicons.png" />
    <meta property="og:description" content="示例程序运行顺序
调用JNI本地函数
访问静态成员获取值
创建JniTest对象
调用JniTest对象的方法
传递返回值
访问成员变量设定其值
">
    <meta property="og:article:tag" content="Java"> <meta property="og:article:tag" content="JNI"> <meta property="og:article:tag" content="Java进阶"> 

    
        <meta property="article:published_time" content="Thu Sep 29 2016 20:00:00 GMT+0800" />
        <meta property="article:modified_time" content="Wed Nov 15 2017 00:00:36 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="JNI(调用JNI函数) | 星家|不会搬砖的码农">
    <meta name="twitter:description" content="示例程序运行顺序
调用JNI本地函数
访问静态成员获取值
创建JniTest对象
调用JniTest对象的方法
传递返回值
访问成员变量设定其值
">
    <meta name="twitter:image" content="/img/favicons.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://luoweiguang.github.io" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "星家|不会搬砖的码农",
        "logo": "/img/favicons.png"
    },
    "author": {
        "@type": "Person",
        "name": "罗炜光",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicons.png"
        },
        "description": "Hi, nice to meet you"
    },
    "headline": "JNI(调用JNI函数)",
    "url": "https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/index.html",
    "datePublished": "Thu Sep 29 2016 20:00:00 GMT+0800",
    "dateModified": "Wed Nov 15 2017 00:00:36 GMT+0800",
    "description": "示例程序运行顺序
调用JNI本地函数
访问静态成员获取值
创建JniTest对象
调用JniTest对象的方法
传递返回值
访问成员变量设定其值
",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://luoweiguang.github.io"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    
    
    
    
    .footer-sns-github {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNCA3OGMtNi40IDEuNC0yNi40IDE0LjItMzYgMjIuOC04IDcuMi0yMiAyOS44LTI0LjQgMzkuMi0xLjYgNi40LTIgMTEzLjItMS42IDM2OCAuNiAyOTkuNCAxIDM1OS44IDMuNCAzNjQgMTEgMjAuMiAyMS42IDMyLjQgMzcuMiA0MyAxNS42IDEwLjYgMTcuMiAxMS4yIDM0LjIgMTMuMiAxMC42IDEuMiA2My40IDEuNiAxMjcuNiAxLjRsMTA5LjYtLjYgNi02LjggNi4yLTYuOC0xLjItMjUuMmMtLjgtMTUuOC0uMi0zMy40IDEuNC00Ny4yIDMtMjUuNCAxLjQtMzYuMi02LTQzLjItNS00LjYtNi4yLTQuOC0zMC42LTQuMi0yNy42LjgtMjQgMS42LTY4LjgtMTYtOC42LTMuNC0yMi42LTE4LTI4LjQtMjkuOC0xMS40LTIyLjgtMjctNDUtMzkuMi01NS42LTE0LTEyLjItMTkuOC0yMC44LTE5LjgtMjguNiAwLTExLjYgMTMuNi0xMi42IDMzLjItMi40IDE2LjYgOC44IDIwLjggMTIuNCA0MC44IDM2LjIgMjQuMiAyOC42IDMxIDMzLjYgNTQgMzkuNiAxNS4yIDQgNDIuMiAzIDUxLjQtMS44IDktNC42IDE4LTE1LjIgMjQuNC0yOS4yIDExLjQtMjQuMiA3LjQtMzEuMi0yMC42LTM2LjgtOS44LTItMjkuMi04LTQzLjQtMTMuNC00MC40LTE1LjgtNjQuNi0zNy40LTg1LjQtNzYuMi0xMS42LTIxLjgtMTUuNC0zMy0xOC4yLTUzLjYtNC4yLTMyLjItNC44LTYwLjItMS40LTg0IDMuNC0yMy44IDYuOC0zMi44IDIwLjItNTQgNC02IDguOC0xNS42IDExLTIxLjQgMy44LTEwIDMuOC0xMS42IDEtMzAtNS4yLTM0LjItMy4yLTUyLjQgNy42LTcwLjIgNy4yLTEyLjIgMTUtMTcuMiAyNC4yLTE1LjggMTIuOCAyLjIgNTIgMTcuNCA2Ni44IDI2LjIgMjYgMTUgMjkgMTUuNCA4Mi40IDcuMiAyNC42LTMuOCAzMy44LTQuMiA2MC0zLjIgMTcgLjYgNDEuNCAzIDU0IDUuMiAzOC40IDYuNiA0OS42IDUuMiA3My0xMCA2LjYtNC4yIDE3LjQtOS40IDI0LTExLjYgNi42LTIuMiAxNi01LjggMjEtOC4yIDEzLTYgMjgtNS42IDM1LjYuOCAxMi40IDEwLjQgMTguNiA0MS40IDE0LjQgNzEuNi00LjQgMzAuNi0zIDM5LjQgOC40IDUzLjggMy40IDQuNCAxMS4yIDE5LjIgMTcuNCAzMy4yTDc3NSA0NDN2NzhsLTEwIDI4Yy0xNS4yIDQzLjItMzYuOCA3My4yLTY2LjIgOTIuOC0xMy40IDguOC01NyAyNS40LTc2LjggMjktMjguMiA1LjItMzMuMiAxMi42LTIyIDMyLjIgMTEuMiAxOS40IDEyLjQgMzIuOCAxMS42IDEyOS42bC0uNiA4NS44IDUuNCA0LjZjMy42IDMgOS4yIDUuMiAxNiA2IDUuOC44IDYwLjIgMSAxMjAuNi42IDEwOC40LS42IDExMC4yLS42IDExOS01IDI0LTExLjYgNDAtMjcuNCA1MS42LTUwLjZsNS40LTExIC42LTM0N2MuNC0yMjMtLjItMzUzLjQtMS40LTM2NS0yLTE3LTIuNi0xOC42LTEzLTM0LTEwLjYtMTUuNC0yMi44LTI2LjItNDMuMi0zNy4yLTQuMi0yLjQtNjQuNi0yLjgtMzY2LTMuMi0xOTguNiAwLTM2NCAuNC0zNjcuNiAxLjR6Ii8+PC9zdmc+);
    }
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#示例程序运行顺序"><span class="post-toc-number">1.</span> <span class="post-toc-text">示例程序运行顺序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#访问Java类-对象的成员变量"><span class="post-toc-number">2.</span> <span class="post-toc-text">访问Java类/对象的成员变量</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取jclass值"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">获取jclass值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#FindClass"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">FindClass()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#GetObjectClass"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">GetObjectClass()</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取jfieldID值"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">获取jfieldID值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#GetStaticFieldID"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">GetStaticFieldID()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#GetFieldID"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">GetFieldID()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#获取签名"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">获取签名</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取成员变量值"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">获取成员变量值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#GetStatic-lt-type-gt-Field"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">GetStatic<type>Field()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Get-lt-type-gt-Field"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">Get<type>Field()</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#生成Java对象"><span class="post-toc-number">3.</span> <span class="post-toc-text">生成Java对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取jmethodID值"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">获取jmethodID值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#GetMethodID"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">GetMethodID()</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#生成Java类对象"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">生成Java类对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#NewObject"><span class="post-toc-number">3.2.1.</span> <span class="post-toc-text">NewObject()</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#调用Java方法"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">调用Java方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#CallStatic-lt-type-gt-Method"><span class="post-toc-number">3.3.1.</span> <span class="post-toc-text">CallStatic<type>Method()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Call-lt-type-gt-Method"><span class="post-toc-number">3.3.2.</span> <span class="post-toc-text">Call<type>Method()</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#设置成员变量的值"><span class="post-toc-number">4.</span> <span class="post-toc-text">设置成员变量的值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#SetStatic-lt-type-gt-Field"><span class="post-toc-number">4.0.1.</span> <span class="post-toc-text">SetStatic<type>Field()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Set-lt-type-gt-Field"><span class="post-toc-number">4.0.2.</span> <span class="post-toc-text">Set<type>Field()</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#局部引用与全局引用"><span class="post-toc-number">5.</span> <span class="post-toc-text">局部引用与全局引用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#NewGlobalRef"><span class="post-toc-number">5.0.1.</span> <span class="post-toc-text">NewGlobalRef()</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考资料"><span class="post-toc-number">6.</span> <span class="post-toc-text">参考资料</span></a></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(/img/20160929999998.png)">
    
            <p class="article-headline-p">
                JNI(调用JNI函数)
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>罗炜光</strong>
        <span>9月 29, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/">
    
</ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/JNI/">JNI</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Java/">Java</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Java进阶/">Java进阶</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=JNI(调用JNI函数)&url=https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=JNI(调用JNI函数)&url=https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/index.html&via=罗炜光" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="示例程序运行顺序"><a href="#示例程序运行顺序" class="headerlink" title="示例程序运行顺序"></a>示例程序运行顺序</h2><ul>
<li>调用JNI本地函数</li>
<li>访问静态成员获取值</li>
<li>创建JniTest对象</li>
<li>调用JniTest对象的方法</li>
<li>传递返回值</li>
<li>访问成员变量设定其值</li>
</ul>
<a id="more"></a>
<p>JniFuncMain.java</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JniFuncMain</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> staticIntField <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//加载本地库jinfunc.dll</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>System<span class="token punctuation">.</span><span class="token function">loadLibrary</span><span class="token punctuation">(</span><span class="token string">"jnifunc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//本地方法声明</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> JniTest <span class="token function">createJniObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//从本地代码生成JniTest对象</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[Java]createJniObject()调用本地方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//使用static关键字，不需要创建对象，直接通过JniFuncMain类调用即可</span>
        JniTest jniObj <span class="token operator">=</span> <span class="token function">createJniObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">//调用JniTest对象的方法</span>
        jniObj<span class="token punctuation">.</span><span class="token function">callTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<p>JniTest.java</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JniTest</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> intField<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//构造方法</span>
    <span class="token keyword">public</span> <span class="token function">JniTest</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        intField <span class="token operator">=</span> num<span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[Java] 调用JniTest对象的构造方法:intField = "</span> <span class="token operator">+</span> intField<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">//此方法由JNI本地函数调用</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">callByNative</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[Java] JniTest对象的callByNative("</span> <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token string">")调用"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">callTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[Java] JniTest对象的callTest()方法调用:intField="</span><span class="token operator">+</span>intField<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>JniFuncMain.h</p>
<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */
#include &lt;jni.h&gt;
/* Header for class JniFuncMain */

#ifndef _Included_JniFuncMain
#define _Included_JniFuncMain
#ifdef __cplusplus
extern &quot;C&quot; {
#endif
/*
 * Class:     JniFuncMain
 * Method:    createJniObject
 * Signature: ()LJniTest;
 */
JNIEXPORT jobject JNICALL Java_JniFuncMain_createJniObject
  (JNIEnv *, jclass);

#ifdef __cplusplus
}
#endif
#endif
</code></pre><p>jnifunc.cpp</p>
<pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"JniFuncMain.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>

JNIEXPORT jobject JNICALL <span class="token function">Java_JniFuncMain_createJniObject</span><span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span>jclass <span class="token class-name">clazz</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jclass <span class="token class-name">targetClass</span><span class="token punctuation">;</span>
    jmethodID mid<span class="token punctuation">;</span>
    jobject newObject<span class="token punctuation">;</span>
    jstring helloStr<span class="token punctuation">;</span>
    jfieldID fid<span class="token punctuation">;</span>
    jint staticIntField<span class="token punctuation">;</span>
    jint result<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//获取JniFuncMain类的staticIntField变量值</span>
    fid <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">GetStaticFieldID</span><span class="token punctuation">(</span>clazz<span class="token punctuation">,</span><span class="token string">"staticIntField"</span><span class="token punctuation">,</span><span class="token string">"I"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">//读取jclass与fieldid指定的成员变量值</span>
    staticIntField <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">GetStaticIntField</span><span class="token punctuation">(</span>clazz<span class="token punctuation">,</span>fid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"[CPP]获取JniFuncMain类的staticIntField变量值\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"        JniFuncMain.staticIntField = %d\n"</span><span class="token punctuation">,</span> staticIntField<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//查找生成对象的类</span>
    targetClass <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">FindClass</span><span class="token punctuation">(</span><span class="token string">"JniTest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//查找构造方法</span>
    mid <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">,</span><span class="token string">"&lt;init>"</span><span class="token punctuation">,</span><span class="token string">"(I)V"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//生成JniTest对象(返回对象的引用)</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"[CPP]JniTest对象生成\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    newObject <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">NewObject</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">,</span>mid<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//调用对象的方法</span>
    mid <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">GetMethodID</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">,</span><span class="token string">"callByNative"</span><span class="token punctuation">,</span><span class="token string">"(I)I"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    result <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">CallIntMethod</span><span class="token punctuation">(</span>newObject<span class="token punctuation">,</span>mid<span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//设置JniObject对象的intField值</span>
    fid <span class="token operator">=</span> env<span class="token operator">-</span><span class="token operator">></span><span class="token function">GetFieldID</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">,</span><span class="token string">"intField"</span><span class="token punctuation">,</span><span class="token string">"I"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"[CPP]设置JniObject对象的intField值为200\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    env<span class="token operator">-</span><span class="token operator">></span><span class="token function">SetIntField</span><span class="token punctuation">(</span>newObject<span class="token punctuation">,</span>fid<span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">//返回对象的引用</span>
    <span class="token keyword">return</span> newObject<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p>编译命令</p>
<pre><code>gcc -finput-charset=UTF-8 -fexec-charset=GBK -shared -o jnifunc.dll jnifunc.cpp
</code></pre><p>运行命令</p>
<pre><code>java JniFuncMain
</code></pre><p>输出结果</p>
<pre><code>[Java]createJniObject()调用本地方法
[CPP]获取JniFuncMain类的staticIntField变量值
                JniFuncMain.staticIntField = 300
[CPP]JniTest对象生成
[Java] 调用JniTest对象的构造方法:intField = 100
[Java] JniTest对象的callByNative(200)调用
[CPP]设置JniObject对象的intField值为200
[Java] JniTest对象的callTest()方法调用:intField=200
</code></pre><h2 id="访问Java类-对象的成员变量"><a href="#访问Java类-对象的成员变量" class="headerlink" title="访问Java类/对象的成员变量"></a>访问Java类/对象的成员变量</h2><p><strong>步骤:</strong></p>
<ul>
<li>查找含待访问的成员变量的Java类的jclass值</li>
<li>查找此类成员变量的jfieldID值</li>
<li>使用jclass与jfieldID值，获取或设置成员变量值</li>
</ul>
<p>若想要在本地代码中访问Java的成员变量，必须获取相应成员变量的ID值。<br>成员变量的ID保存在jfieldID类型的变量中。由于待读取数值的staticIntField成员变量是JniFuncMain类的静态成员变量，在获取staticIntField的ID时，应调用名称为GetStaticFieldID()的JNI函数<br>若想获取普通对象中的非静态成员变量的ID,应调用名称为GetFieldID()的JNI函数</p>
<h3 id="获取jclass值"><a href="#获取jclass值" class="headerlink" title="获取jclass值"></a>获取jclass值</h3><h4 id="FindClass"><a href="#FindClass" class="headerlink" title="FindClass()"></a><code>FindClass()</code></h4><ul>
<li><p>形式:<br><code>jclass FindClass(JNIEnv *env,const char *name)</code></p>
</li>
<li><p>说明:<br>查找name指定的Java类</p>
</li>
<li><p>参数<br>env JNI接口指针<br>name 待查找的类名</p>
</li>
<li><p>返回值<br>返回类的jclass值      </p>
</li>
</ul>
<h4 id="GetObjectClass"><a href="#GetObjectClass" class="headerlink" title="GetObjectClass()"></a><code>GetObjectClass()</code></h4><ul>
<li><p>形式:<br><code>jclass GetObjectClass(JNIEnv *env, jobject obj)</code></p>
</li>
<li><p>功能:</p>
</li>
<li><p>通过对象获取这个类。该函数比较简单，唯一注意的是对象不能为NULL，否则获取的class肯定返回也为NULL。     </p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI 接口指针。</li>
<li>obj Java 类对象实例。</li>
</ul>
</li>
</ul>
<h3 id="获取jfieldID值"><a href="#获取jfieldID值" class="headerlink" title="获取jfieldID值"></a>获取jfieldID值</h3><h4 id="GetStaticFieldID"><a href="#GetStaticFieldID" class="headerlink" title="GetStaticFieldID()"></a><code>GetStaticFieldID()</code></h4><ul>
<li><p>形式:<br><code>jfield GetStaticFieldID(JNIEnv *env,jclass clazz,const char *name,const *signature)</code></p>
</li>
<li><p>说明:<br>返回指定类的指定的静态成员变量的jfieldID的值</p>
</li>
<li><p>参数:   </p>
<ul>
<li>env JNI接口指针</li>
<li>clazz 包含成员变量的类的jclass</li>
<li>name 成员变量名</li>
<li>signature 成员变量签名</li>
</ul>
</li>
</ul>
<h4 id="GetFieldID"><a href="#GetFieldID" class="headerlink" title="GetFieldID()"></a><code>GetFieldID()</code></h4><ul>
<li><p>形式:<br><code>jfield GetFieldID(JNIEnv *env,jclass clazz,const char *name,const *signature)</code></p>
</li>
<li><p>说明:<br>返回对象中指定的成员变量的jfieldID的值</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>clazz 包含成员变量的类的jclass</li>
<li>name 成员变量名</li>
<li>signature 成员变量签名</li>
</ul>
</li>
</ul>
<h4 id="获取签名"><a href="#获取签名" class="headerlink" title="获取签名"></a>获取签名</h4><p>在JNI中获取成员变量或成员方法签名</p>
<p>形式:javap [选项] ‘类名’<br>选项: </p>
<ul>
<li>-s 输出Java签名</li>
<li>-p 输出所有类及成员</li>
</ul>
<pre><code>javap -s -p JniFuncMain
</code></pre><p>输出结果</p>
<pre><code>Compiled from &quot;JniFuncMain.java&quot;
public class JniFuncMain {
  private static int staticIntField;
    descriptor: I   //签名
  public JniFuncMain();
    descriptor: ()V

  public static native JniTest createJniObject();
    descriptor: ()LJniTest;

  public static void main(java.lang.String[]);
    descriptor: ([Ljava/lang/String;)V

  static {};
    descriptor: ()V
}
</code></pre><h3 id="获取成员变量值"><a href="#获取成员变量值" class="headerlink" title="获取成员变量值"></a>获取成员变量值</h3><p>在获取成员变量所在的类的ID后，根据个成员变量的类型与存储区块，调用相应的JNI函数读取成员变量值即可。在JNI中有两种函数用来获取成员变量的值，分别为<code>Get&lt;type&gt;Field</code>函数与<code>GetStatic&lt;type&gt;Field</code>函数（<code>&lt;type&gt;</code>指Int、Char、Double等基本数据类型，具体参考JNI文档）</p>
<h4 id="GetStatic-lt-type-gt-Field"><a href="#GetStatic-lt-type-gt-Field" class="headerlink" title="GetStatic&lt;type&gt;Field()"></a><code>GetStatic&lt;type&gt;Field()</code></h4><ul>
<li><p>形式:<br><code>&lt;jnitype&gt; GetStatic&lt;type&gt;Field(JNIEnv *env,jclass clazz,jfieldID fieldID)</code></p>
</li>
<li><p>说明:<br>返回clazz类中ID为fieldID的静态变量的值</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>clazz 包含成员变量的类</li>
<li>fieldID 成员变量的ID</li>
</ul>
</li>
</ul>
<ul>
<li><p>参考:<br><code>&lt;type&gt;</code>指Object、Boolean、Byte、Char、Short、Int、Long、Float、Double九种基本类型。<br>返回类型<code>&lt;jnitype&gt;</code>指jobject、jboolean、jbyte、jchar、jshort、jint、jlong、jfloat、jdouble九种基本类型<br>这些类型也被应用到其他JNI函数的<code>&lt;type&gt;</code>中</p>
</li>
<li><p>返回值<br>返回静态成员变量的值</p>
</li>
</ul>
<h4 id="Get-lt-type-gt-Field"><a href="#Get-lt-type-gt-Field" class="headerlink" title="Get&lt;type&gt;Field()"></a><code>Get&lt;type&gt;Field()</code></h4><ul>
<li><p>形式:<br><code>&lt;jnitype&gt; Get&lt;type&gt;Field(JNIEnv *env,jobject obj,jfieldID fieldID)</code></p>
</li>
<li><p>说明:<br>返回obj对象中ID为fieldID的成员变量的值</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>obj 包含成员变量的对象</li>
<li>fieldID 成员变量的ID</li>
</ul>
</li>
<li><p>返回值<br>返回成员变量的值</p>
</li>
</ul>
<h2 id="生成Java对象"><a href="#生成Java对象" class="headerlink" title="生成Java对象"></a>生成Java对象</h2><p><strong>步骤:</strong></p>
<ul>
<li>查找指定的类，并将查找到的类赋给jclass类型的变量</li>
<li>查找Java类构造方法的ID值(类型为jmethodID)</li>
<li>生成Java类对象</li>
</ul>
<p>首先调用JNi函数FindClass()，查找生成对象的类。</p>
<h3 id="获取jmethodID值"><a href="#获取jmethodID值" class="headerlink" title="获取jmethodID值"></a>获取jmethodID值</h3><p>在JNI函数中有一个<code>GetMethodID()</code>函数用来获取指定类的指定方法ID.此函数除了可以用来获取指定类的构造方法的ID外，还可以获取类的其他方法的ID。若指定的方法是静态方法，则可以调用JNI函数中的GetStaticMethodID()函数，获取指定静态方法的ID</p>
<p>在生成指定类的对象之前，需要先调用GetMethodID()函数获取该类构造方法的ID。在调用GetMethodID()函数时，除了提供生成对象的类，还要提供类的构造方法名称(类的构造方法名称为“<code>&lt;init&gt;</code>”，其他非构造方法，直接提供方法名即可)，以及构造方法的签名。</p>
<h4 id="GetMethodID"><a href="#GetMethodID" class="headerlink" title="GetMethodID()"></a><code>GetMethodID()</code></h4><ul>
<li><p>形式:<br><code>jmethodID GetMethodID(JNIEnv *env,jclass clazz,const char *name,const char *signature)</code></p>
</li>
<li><p>说明:<br>获取clazz类对象的指定方法的ID。注意,方法名(name)与签名应当保持一致。若获取类构造方法的ID,方法名为”<code>&lt;init&gt;</code>“</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>clazz Java类</li>
<li>name 方法名</li>
<li>signature 方法签名</li>
</ul>
</li>
<li><p>返回值<br>若方法ID错误，则返回NULL</p>
</li>
</ul>
<h3 id="生成Java类对象"><a href="#生成Java类对象" class="headerlink" title="生成Java类对象"></a>生成Java类对象</h3><p>以获得的JniTest类的jclass与构造方法的ID为参数，调用JNI函数NewObject()，生成JniTest类的对象。JniTest类的构造方法JniTest(int num)带有一个int类型的参数，在调用NewObject()时,同时传入100这个int数据。在生成JniTest类的对象后，将对象的引用保存在jobject变量中。</p>
<h4 id="NewObject"><a href="#NewObject" class="headerlink" title="NewObject()"></a><code>NewObject()</code></h4><ul>
<li><p>形式:<br><code>jobject NewObject(JNIEnv *env,jclass clazz,jmethodID methodID,...)</code></p>
</li>
<li><p>说明:<br>生成指定类的对象。methodID指类的构造方法的ID</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>clazz Java类</li>
<li>methodID 类的构造方法的ID</li>
<li>… 传递给类的构造方法的参数</li>
</ul>
</li>
<li><p>返回值<br>放回类对象的引用。若发生错误，返回NULL</p>
</li>
</ul>
<h3 id="调用Java方法"><a href="#调用Java方法" class="headerlink" title="调用Java方法"></a>调用Java方法</h3><p><strong>步骤:</strong></p>
<ul>
<li>获取含待调方法的Java类的jclass</li>
<li>获取待调方法的ID</li>
<li>调用Java方法保存返回值</li>
</ul>
<h4 id="CallStatic-lt-type-gt-Method"><a href="#CallStatic-lt-type-gt-Method" class="headerlink" title="CallStatic&lt;type&gt;Method()"></a><code>CallStatic&lt;type&gt;Method()</code></h4><ul>
<li><p>形式:<br><code>&lt;jnitype&gt; CallStatic&lt;type&gt;Method(JNIEnv *env,jclass clazz,jmethodID methodID,...)</code></p>
</li>
<li><p>说明:<br>调用methodID指定的类的静态方法</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>clazz 含待调方法的类</li>
<li>methodID 待调方法的ID</li>
<li>… 传递给待调方法的参数</li>
</ul>
</li>
<li><p>返回值:<br>被调方法的返回值</p>
</li>
<li><p>参考:<br><code>&lt;type&gt;</code>指Object、Boolean、Byte、Char、Short、Int、Long、Float、Double、void十种基本类型。<br>返回类型<code>&lt;jnitype&gt;</code>指jobject、jboolean、jbyte、jchar、jshort、jint、jlong、jfloat、jdouble、void十基本类型<br>待调方法的返回值不同<code>&lt;type&gt;</code>也不同。若待调方法的返回值类型为int，则调用函数为CallStaticIntMethod()</p>
</li>
</ul>
<h4 id="Call-lt-type-gt-Method"><a href="#Call-lt-type-gt-Method" class="headerlink" title="Call&lt;type&gt;Method()"></a><code>Call&lt;type&gt;Method()</code></h4><ul>
<li><p>形式:<br><code>&lt;jnitype&gt; Call&lt;type&gt;Mrthod(JNIEnv *env,jobject obj,jmethodID method,...)</code></p>
</li>
<li><p>说明:<br>调用methodID指定的Java对象的方法</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>obj 含待调方法的Java对象的方法</li>
<li>methodID 待调方法的ID</li>
<li>… 传递给待调方法的参数</li>
</ul>
</li>
<li><p>返回值:<br>被调方法的返回值</p>
</li>
</ul>
<h2 id="设置成员变量的值"><a href="#设置成员变量的值" class="headerlink" title="设置成员变量的值"></a>设置成员变量的值</h2><p><strong>步骤:</strong></p>
<ul>
<li>获取成员变量所在类的jclass值</li>
<li>获取对象的变量值</li>
<li>设置变量值</li>
</ul>
<h4 id="SetStatic-lt-type-gt-Field"><a href="#SetStatic-lt-type-gt-Field" class="headerlink" title="SetStatic&lt;type&gt;Field()"></a><code>SetStatic&lt;type&gt;Field()</code></h4><ul>
<li><p>形式:<br><code>void SetStatic&lt;type&gt;Field(JNIEnv *env,jclass clazz,jfieldID field,&lt;type&gt; value)</code></p>
</li>
<li><p>说明:<br><code>设置fieldID指定的Java类静态成员变量的值</code></p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>clazz 含待设置成员变量的类的引用</li>
<li>fieldID 待设成员变量的ID</li>
<li>value 指定设置值</li>
</ul>
</li>
</ul>
<h4 id="Set-lt-type-gt-Field"><a href="#Set-lt-type-gt-Field" class="headerlink" title="Set&lt;type&gt;Field()"></a><code>Set&lt;type&gt;Field()</code></h4><ul>
<li><p>形式<br><code>void Set&lt;type&gt;Field(JNIEnv *env,jobject obj,jfieldID field,&lt;type&gt; value)</code></p>
</li>
<li><p>说明:<br><code>设置fieldID指定的Java对象的成员变量的值</code></p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>obj 含待设置成员变量的Java对象的引用</li>
<li>fieldID 待设成员变量的ID</li>
<li>value 指定设置值</li>
</ul>
</li>
</ul>
<h2 id="局部引用与全局引用"><a href="#局部引用与全局引用" class="headerlink" title="局部引用与全局引用"></a>局部引用与全局引用</h2><p>在实现JNI本地函数时，由GetObjectClass()、FindClass()等JNI函数返回的jclass、jobject等引用都是局部引用。</p>
<p>局部引用是JNI默认的，它仅在JNI本地函数内才有效,即当JNI本地函数返回后,其内部的引用就会失效。</p>
<p>JNI提供了一个名称为NewGlobalRef()的JNI函数，用来为指定的类或对象生成全局引用(Global Reference),以便在JNI本地函数中在全局范围内使用该引用</p>
<h4 id="NewGlobalRef"><a href="#NewGlobalRef" class="headerlink" title="NewGlobalRef()"></a><code>NewGlobalRef()</code></h4><ul>
<li><p>形式:<br>jobject NewGlobalRef(JNIEnv *env,jobject obj)</p>
</li>
<li><p>说明:<br>为obj指定的类或对象，生成全局引用</p>
</li>
<li><p>参数:</p>
<ul>
<li>env JNI接口指针</li>
<li>obj 待生成全局引用的引用值</li>
</ul>
</li>
<li><p>返回生成的全局引用,若发生错误,则返回NULL</p>
</li>
</ul>
<p><strong>当全局引用使用完毕后，应当调用名称为DeleteGlobalRef()的JNI函数,显性地将全局引用销毁。</strong></p>
<p>例子</p>
<pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"RefTestMain.h"</span></span>

<span class="token keyword">static</span> jclass globalTargetClass <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

JNIEXPORT jint JNICALL <span class="token function">Java_RefTestMain_getMember</span><span class="token punctuation">(</span>JNIEnv <span class="token operator">*</span>env<span class="token punctuation">,</span>jclass clazz<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    jfieldID fid<span class="token punctuation">;</span>
    jint intField<span class="token punctuation">;</span>
    jclass targetClass<span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>globalTargetClass <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        targetClass <span class="token operator">=</span> env<span class="token operator">-></span><span class="token function">FindClass</span><span class="token punctuation">(</span><span class="token string">"RefTest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        globalTargetClass <span class="token operator">=</span><span class="token punctuation">(</span>jclass<span class="token punctuation">)</span> env<span class="token operator">-></span><span class="token function">NewGlobalRef</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    fid <span class="token operator">=</span> env<span class="token operator">-></span><span class="token function">GetStaticFieldID</span><span class="token punctuation">(</span>globalTargetClass<span class="token punctuation">,</span><span class="token string">"intField"</span><span class="token punctuation">,</span><span class="token string">"I"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    intField <span class="token operator">=</span> env<span class="token operator">-></span><span class="token function">GetStaticIntField</span><span class="token punctuation">(</span>globalTargetClass<span class="token punctuation">,</span>fid<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> intField<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://book.douban.com/subject/10570841/" target="_blank" rel="external">Amdroid框架揭秘</a></p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button>
</div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://luoweiguang.github.io/2016/09/29/JNI(调用JNI函数)/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//https-luoweiguang-github-io.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
  	

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/09/29/JNI(在C程序中运行Java类)/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/09/26/JNI(在Java中调用C函数)/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head.jpg" alt="罗炜光's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        luo_weiguang@foxmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=luo_weiguang@foxmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Android/">Android<span class="sidebar_archives-count">26</span></a></li><li><a class="sidebar_archives-link" href="/categories/Java/">Java<span class="sidebar_archives-count">22</span></a></li><li><a class="sidebar_archives-link" href="/categories/JavaWeb/">JavaWeb<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tool/">Tool<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/UML/">UML<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/设计模式/">设计模式<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">bookmark</i>
                
                标签
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/luoweiguang" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2016&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>星家|不会搬砖的码农
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- 使用 DISQUS js 代码 -->






<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
