<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            Effective Java | 
        
        星家|不会搬砖的码农
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
    
        <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="罗炜光">
    <meta name="description" itemprop="description" content="1. 考虑用静态工厂方法代替构造器优点：

拥有名称，更容易识别
不必每次调用时，都创建一个新的对象
可以返回返回类型的任何子类型对象
使代码更简洁

缺点：

类如果不含共有的或者受保护的构造器，就不能被子类化。
它们与其他的静态方法实际上没有任何区别。

应用：

服务提供者框架
">
    <meta name="keywords" content="null,Java,读书笔记">

    <!-- Site Verification -->
    
    <meta name="baidu-site-verification" content="9KipFitrC9" />

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicons.pngg">
    <link rel="icon" sizes="192x192" href="/img/favicons.png">
    <link rel="apple-touch-icon" href="/img/favicons.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="星家|不会搬砖的码农">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://luoweiguang.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Effective Java | 星家|不会搬砖的码农">
    <meta property="og:image" content="/img/favicons.png" />
    <meta property="og:description" content="1. 考虑用静态工厂方法代替构造器优点：

拥有名称，更容易识别
不必每次调用时，都创建一个新的对象
可以返回返回类型的任何子类型对象
使代码更简洁

缺点：

类如果不含共有的或者受保护的构造器，就不能被子类化。
它们与其他的静态方法实际上没有任何区别。

应用：

服务提供者框架
">
    <meta property="og:article:tag" content="Java"> <meta property="og:article:tag" content="读书笔记"> 

    
        <meta property="article:published_time" content="Fri Apr 08 2016 22:00:00 GMT+0800" />
        <meta property="article:modified_time" content="Sun Aug 06 2017 18:00:10 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="Effective Java | 星家|不会搬砖的码农">
    <meta name="twitter:description" content="1. 考虑用静态工厂方法代替构造器优点：

拥有名称，更容易识别
不必每次调用时，都创建一个新的对象
可以返回返回类型的任何子类型对象
使代码更简洁

缺点：

类如果不含共有的或者受保护的构造器，就不能被子类化。
它们与其他的静态方法实际上没有任何区别。

应用：

服务提供者框架
">
    <meta name="twitter:image" content="/img/favicons.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://luoweiguang.github.io" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://luoweiguang.github.io/2016/04/08/Effective Java/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "星家|不会搬砖的码农",
        "logo": "/img/favicons.png"
    },
    "author": {
        "@type": "Person",
        "name": "罗炜光",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicons.png"
        },
        "description": "Hi, nice to meet you"
    },
    "headline": "Effective Java",
    "url": "https://luoweiguang.github.io/2016/04/08/Effective Java/index.html",
    "datePublished": "Fri Apr 08 2016 22:00:00 GMT+0800",
    "dateModified": "Sun Aug 06 2017 18:00:10 GMT+0800",
    "description": "1. 考虑用静态工厂方法代替构造器优点：

拥有名称，更容易识别
不必每次调用时，都创建一个新的对象
可以返回返回类型的任何子类型对象
使代码更简洁

缺点：

类如果不含共有的或者受保护的构造器，就不能被子类化。
它们与其他的静态方法实际上没有任何区别。

应用：

服务提供者框架
",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://luoweiguang.github.io"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    
    
    
    
    .footer-sns-github {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNCA3OGMtNi40IDEuNC0yNi40IDE0LjItMzYgMjIuOC04IDcuMi0yMiAyOS44LTI0LjQgMzkuMi0xLjYgNi40LTIgMTEzLjItMS42IDM2OCAuNiAyOTkuNCAxIDM1OS44IDMuNCAzNjQgMTEgMjAuMiAyMS42IDMyLjQgMzcuMiA0MyAxNS42IDEwLjYgMTcuMiAxMS4yIDM0LjIgMTMuMiAxMC42IDEuMiA2My40IDEuNiAxMjcuNiAxLjRsMTA5LjYtLjYgNi02LjggNi4yLTYuOC0xLjItMjUuMmMtLjgtMTUuOC0uMi0zMy40IDEuNC00Ny4yIDMtMjUuNCAxLjQtMzYuMi02LTQzLjItNS00LjYtNi4yLTQuOC0zMC42LTQuMi0yNy42LjgtMjQgMS42LTY4LjgtMTYtOC42LTMuNC0yMi42LTE4LTI4LjQtMjkuOC0xMS40LTIyLjgtMjctNDUtMzkuMi01NS42LTE0LTEyLjItMTkuOC0yMC44LTE5LjgtMjguNiAwLTExLjYgMTMuNi0xMi42IDMzLjItMi40IDE2LjYgOC44IDIwLjggMTIuNCA0MC44IDM2LjIgMjQuMiAyOC42IDMxIDMzLjYgNTQgMzkuNiAxNS4yIDQgNDIuMiAzIDUxLjQtMS44IDktNC42IDE4LTE1LjIgMjQuNC0yOS4yIDExLjQtMjQuMiA3LjQtMzEuMi0yMC42LTM2LjgtOS44LTItMjkuMi04LTQzLjQtMTMuNC00MC40LTE1LjgtNjQuNi0zNy40LTg1LjQtNzYuMi0xMS42LTIxLjgtMTUuNC0zMy0xOC4yLTUzLjYtNC4yLTMyLjItNC44LTYwLjItMS40LTg0IDMuNC0yMy44IDYuOC0zMi44IDIwLjItNTQgNC02IDguOC0xNS42IDExLTIxLjQgMy44LTEwIDMuOC0xMS42IDEtMzAtNS4yLTM0LjItMy4yLTUyLjQgNy42LTcwLjIgNy4yLTEyLjIgMTUtMTcuMiAyNC4yLTE1LjggMTIuOCAyLjIgNTIgMTcuNCA2Ni44IDI2LjIgMjYgMTUgMjkgMTUuNCA4Mi40IDcuMiAyNC42LTMuOCAzMy44LTQuMiA2MC0zLjIgMTcgLjYgNDEuNCAzIDU0IDUuMiAzOC40IDYuNiA0OS42IDUuMiA3My0xMCA2LjYtNC4yIDE3LjQtOS40IDI0LTExLjYgNi42LTIuMiAxNi01LjggMjEtOC4yIDEzLTYgMjgtNS42IDM1LjYuOCAxMi40IDEwLjQgMTguNiA0MS40IDE0LjQgNzEuNi00LjQgMzAuNi0zIDM5LjQgOC40IDUzLjggMy40IDQuNCAxMS4yIDE5LjIgMTcuNCAzMy4yTDc3NSA0NDN2NzhsLTEwIDI4Yy0xNS4yIDQzLjItMzYuOCA3My4yLTY2LjIgOTIuOC0xMy40IDguOC01NyAyNS40LTc2LjggMjktMjguMiA1LjItMzMuMiAxMi42LTIyIDMyLjIgMTEuMiAxOS40IDEyLjQgMzIuOCAxMS42IDEyOS42bC0uNiA4NS44IDUuNCA0LjZjMy42IDMgOS4yIDUuMiAxNiA2IDUuOC44IDYwLjIgMSAxMjAuNi42IDEwOC40LS42IDExMC4yLS42IDExOS01IDI0LTExLjYgNDAtMjcuNCA1MS42LTUwLjZsNS40LTExIC42LTM0N2MuNC0yMjMtLjItMzUzLjQtMS40LTM2NS0yLTE3LTIuNi0xOC42LTEzLTM0LTEwLjYtMTUuNC0yMi44LTI2LjItNDMuMi0zNy4yLTQuMi0yLjQtNjQuNi0yLjgtMzY2LTMuMi0xOTguNiAwLTM2NCAuNC0zNjcuNiAxLjR6Ii8+PC9zdmc+);
    }
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(/img/20160408999999.PNG)">
    
            <p class="article-headline-p">
                Effective Java
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>罗炜光</strong>
        <span>4月 08, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="https://pan.baidu.com/share/qrcode?w=246&h=246&url=https://luoweiguang.github.io/2016/04/08/Effective Java/">
    
</ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Java/">Java</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/读书笔记/">读书笔记</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Effective Java&url=https://luoweiguang.github.io/2016/04/08/Effective Java/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Effective Java&url=https://luoweiguang.github.io/2016/04/08/Effective Java/index.html&via=罗炜光" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://luoweiguang.github.io/2016/04/08/Effective Java/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://luoweiguang.github.io/2016/04/08/Effective Java/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p><strong>1. 考虑用静态工厂方法代替构造器</strong><br><strong>优点：</strong></p>
<ul>
<li>拥有名称，更容易识别</li>
<li>不必每次调用时，都创建一个新的对象</li>
<li>可以返回返回类型的任何子类型对象</li>
<li>使代码更简洁</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>类如果不含共有的或者受保护的构造器，就不能被子类化。</li>
<li>它们与其他的静态方法实际上没有任何区别。</li>
</ul>
<p><strong>应用：</strong></p>
<ul>
<li>服务提供者框架</li>
</ul>
<a id="more"></a>
<p><strong>2. 遇到多个构造器参数时要考虑用构建器</strong></p>
<ul>
<li>当有很多参数的时候，重叠构造器模式可行，客户端代码会很难编写，并且仍然较难以阅读</li>
<li>使用javabeans模式，在构造过程中JavaBean可能处于不一定的状态</li>
<li>使用Builder 模式的客户端代码将更易于阅读与编写，构建器也比JavaBeans更加安全。</li>
</ul>
<p><strong>3. 用私有构造器或者枚举类型强化Singleton属性</strong></p>
<ul>
<li>使类成为Singleton会是它的客户端测试变得十分困难，因为无法给Singleton替换模拟实现，除非它实现一个充当其类型的接口。</li>
<li>序列化Singleton类使用implement Serializable是不够的，为了维护并保证Singleton，必须声明所有实例域都是瞬时（transient）的，并提供一个readResolve方法，否则每次反序列化一个序列化的实例时，都会创建一个新的实例。</li>
<li><p>单元素的枚举类型已经成为Singleton的最佳方法<br><strong>例子：</strong></p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> Elvis
<span class="token punctuation">{</span>
  INSTANCE<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">leaveTheBuilding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>4. 通过私有构造器强化不可实例化的能力</strong></p>
</li>
<li><p>导致一个类不能被子类化。所有的构造器都必须显示或隐式的调用超类的构造器。如此一来子类就没有可访问的超类构造器可用了</p>
</li>
</ul>
<p><strong>5. 避免创建不必要的对象</strong></p>
<ul>
<li>使用静态工厂方法而不是构造器，以避免创建不必要的对象</li>
<li>要优先使用基本类型而不是装箱基本类型，要当心无意识的自动装箱。</li>
</ul>
<p><strong>6. 消除过期的对象引用</strong></p>
<ul>
<li>只要类是自己管理内存，就应该警惕内存泄露问题</li>
<li>内存泄露的另一个常见来源是缓存</li>
<li>内存泄露的第三个常见来源是监听器和其他回调</li>
</ul>
<p><strong>7. 避免使用终结方法</strong></p>
<ul>
<li>不应该依赖终结方法来更新重要的持久状态</li>
<li>使用终结方法有一个非常严重的性能损失</li>
<li>如果终结方法发现资源还未被终止，则应该在日志中记录一条警告</li>
<li>如果类有终结方法，并且子类覆盖了终结方法，子类的终结方法就必须手工调用超类的终结方法，应该在try块中终结子类，并在相应的finally块中调用超类的终结方法</li>
</ul>
<p><strong>8. 覆盖equals时请遵守通用约定</strong></p>
<ul>
<li>类的每个实例本质上都是唯一的</li>
<li>不关心类是否提供了”逻辑相等”的测试功能</li>
<li>超类已经覆盖了equals，从超类继承过来的行为对于子类也是合适的</li>
<li>类是私有的或是包级私有的，可以确定它的equals方法永远不会被调用</li>
</ul>
<p><strong>equals方法实现了等价关系</strong></p>
<ul>
<li>自反性。对于任何非null的引用值x,x.equals(x)必须返回true</li>
<li>对称性。对于任何非null的引用值x和y,当且仅当y.equals(x)返回true时，x.equals(y)必须返回true.</li>
<li>传递性。对于任何非null的引用值x、y和z,如果x.equals(y)返回true，并且y.equals(z)也返回true，那么x.equals(z)也必须返回true。</li>
<li>一致性。对于任何非null的引用值x和y，只要equals的比较操作在对象中所用的信息没有被修改，多次调用x.equals(y)就会一致地返回true，或者一致的返回false。</li>
<li>非空性。对于任何非null的引用值x，x.equals(null)必须返回false。</li>
</ul>
<hr>
<ul>
<li>无法在扩展可实例化的类的同时，即增加新的组件，同时又保留equals约定</li>
</ul>
<p><strong>实现高质量equals方法的诀窍</strong></p>
<ul>
<li>使用==操作符检查”参数是否为这个对象的引用”</li>
<li>使用instanceof操作符检查”参数是否为正确的类型”</li>
<li>把参数转换成正确的类型</li>
<li>对于该类中的每个”关键””域，检查参数中的域是否与该对象中对应的域相匹配</li>
<li>当编写完equals方法之后，应该问自己三个问题，它是否是对称的，传递的，一致的？</li>
</ul>
<p><strong>告诫：</strong></p>
<ul>
<li>覆盖equals时总要覆盖hashCode。</li>
<li>不要企图让equals方法过于智能</li>
<li>不要将equals声明中的Object对象替换为其他的类型</li>
</ul>
<p><strong>9. 覆盖equals时总要覆盖hashCode</strong></p>
<ul>
<li>相等的对象必须具有相等的散列码</li>
<li>不要试图从散列码计算中排除掉一个对象的关键部分来提高性能</li>
</ul>
<p><strong>10. 始终覆盖toString</strong></p>
<ul>
<li>toString()方法应该返回对象中包含的所有值得关注的信息</li>
</ul>
<p><strong>11. 谨慎的覆盖clone</strong></p>
<ul>
<li>永远不要让客户去做类库能够替客户完成的事情</li>
<li>必须确保它不会伤害到原始的对象，并确保正确地创建被克隆对象中的约束条件</li>
</ul>
<p><strong>12. 考虑实现Comparable接口</strong></p>
<p><strong>13. 使类和成员的可访问性最小化</strong></p>
<ul>
<li>尽可能地使每个类或者成员不被外界访问</li>
</ul>
<p><strong>14. 在公有类中使用访问方法而非公有域</strong></p>
<ul>
<li>如果类可以在它所在的包的外部进行访问，就提供访问方法。</li>
</ul>
<p><strong>15. 使可变性最小化</strong></p>
<p><strong>使类成为不可变，要遵循下面五条规则</strong></p>
<ul>
<li>不要提供改变对象属性的方法</li>
<li>保证类不会被扩展</li>
<li>使所有的域都是final的</li>
<li>使所有的域都成为私有的</li>
<li>确保对于任何可变组件的互斥访问</li>
</ul>
<p><strong>优点</strong></p>
<ul>
<li>不可变对象比较简单</li>
<li>不可变对象本质上是线程安全的，它们不要求同步</li>
<li>不可变对象可以被自由地共享</li>
<li>不仅可以共享不可变对象，甚至也可以共享它们的内部信息。</li>
<li>不可变对象为其他对象提供了大量的构件</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>对于每个不同的值都需要一个单独的对象、</li>
</ul>
<p><strong>16. 复合优先于继承</strong></p>
<p><strong>17. 要么为继承而设计，并提供文档说明，要么就禁止继承</strong></p>
<ul>
<li>构造器决不能调用可被覆盖的方法</li>
</ul>
<p><strong>18. 接口优于抽象类</strong></p>
<ul>
<li>现有的类可以很容易被更新，以实现新的接口</li>
<li>接口是定义混合类型的理想选择</li>
<li>接口允许我们构造非层次结构的类型框架</li>
<li>接口使得安全的增强类的功能成为可能</li>
<li>抽象类的演变比接口的演变要容易的多</li>
<li>接口一旦被公开发行，并且已被广泛实现，再想改变这个接口几乎是不可能的</li>
</ul>
<p><strong>19. 接口只用于定义类型</strong></p>
<p><strong>20. 类层次优于标签类</strong></p>
<ul>
<li>标签类过于冗长、容易出错、并且效率低下</li>
</ul>
<p><strong>21. 用函数对象表示策略</strong></p>
<p><strong>22. 优先考虑静态成员类</strong></p>
<p><strong>23. 请不要在新代码中使用原生态类型</strong></p>
<ul>
<li>如果使用原生态类型。就失掉了泛型在安全性和表述性方面的所有优势</li>
<li>如果使用像List这样的原生态类型，就会失掉类型安全性，但是如果使用像<br>List<object>这样的参数化类型，则不会</object></li>
</ul>
<p><strong>24. 消除非受检警告</strong></p>
<ul>
<li>要尽可能地消除每一个非受检警告</li>
<li>如果无法消除警告，同时可以证明引起警告的代码是类型安全的，（只有在这种情况下才）可以用一个人@SuppressWarnings(“unchecked”)注解来禁止这条警告</li>
<li>应该始终在尽可能小的范围中使用@SuppressWarnings注解</li>
<li>每当使用SuppressWarnings(“unchecked”)注解时，都要添加一条注释，说明为什么这么做是安全的</li>
</ul>
<p><strong>25. 列表优先于数组</strong></p>
<ul>
<li>数组是协变的（convariant）。相反泛型则是不可变的（invariant）。即如果Sub为Super的子类型，那么数组类型Sub[]就是Super[]的子类型；</li>
<li>数组是具体化的（reified）。因此数组会在运行时才知道并检查他们的元素类型约束。泛型是通过擦除来实现的。因此泛型只在编译时强化他们的类型信息，并在运行时丢弃（或者擦除）他们元素的类型信息。</li>
<li>创建泛型数组是非法的：</li>
</ul>
<p><strong>26. 优先考虑泛型</strong></p>
<ul>
<li>使用泛型比使用需要在客户端代码中进行转换的类型来得更加安全，也更加容易。</li>
<li>再设计新类型的时候，要确保他们不需要这种转换就可以使用</li>
</ul>
<p><strong>27. 优先考虑泛型方法</strong></p>
<p><strong>28. 利用有限制通配符来提升API的灵活性</strong></p>
<ul>
<li>为了获得最大限度的灵活性，要在表示生产者或者消费者的输入参数上使用通配符类型。</li>
<li>如果参数化类型表示一个T生产者，就使用《？ extends T&gt;,如果它表示一个T消费者，就使用&lt;? super T&gt;</li>
<li>不要使用通配符类型作为返回类型</li>
</ul>
<p><strong>29. 优先考虑类型安全的异构容器</strong></p>
<p><strong>30. 用enum代替int常量</strong></p>
<ul>
<li>枚举提供了编译时的类型安全。</li>
</ul>
<p><strong>31. 用实例域代替序数</strong></p>
<ul>
<li>永远不要根据枚举的序数导出与它关联的值，而是要将它保存在一个实例域中</li>
</ul>
<p><strong>32. 用EnumSet代替位域</strong></p>
<p><strong>33. 用EnumMap代替序数索引</strong></p>
<p><strong>34. 用接口模拟可伸缩的枚举</strong></p>
<p><strong>35. 注解优先于命名模式</strong></p>
<p><strong>命名模式的缺点：</strong></p>
<ul>
<li>无法处理命名失误的情况。</li>
<li>无法确保它们只用于响应的程序元素上</li>
<li>他们没有提供将参数值与程序元素关联起来的好方法。</li>
</ul>
<p><strong>36. 坚持使用Override注解</strong></p>
<p><strong>37. 用标记接口定义类型</strong></p>
<ul>
<li>标记接口定义的类型是由被标记类的实例实现的；标记注解则没有定义这样的类型</li>
<li>使用标记接口的方法能够更加精确的对实现它的类型进行锁定。</li>
<li>标记注解胜过标记结构的最大优点在于，他可以通过默认的方式添加一个或多个注解类型元素，给已被使用的注解类型添加更多的信息</li>
</ul>
<p><strong>38. 检查参数的有效性</strong></p>
<p><strong>39. 必要时进行保护性拷贝</strong></p>
<ul>
<li>假设类的客户端会尽其所能来破坏这个类的约束条件，因此你必须保护性地设计程序</li>
<li>保护性拷贝是在检查参数的有效性之前进行的，并且有效性检查是针对拷贝之后的对象，而不是针对原始的对象</li>
<li>对于参数类型可以被不信任方子类化的参数，请不要使用clone方法进行保护性拷贝</li>
</ul>
<p><strong>40. 谨慎设计方法签名</strong></p>
<ul>
<li>谨慎的选择方法的名称</li>
<li>不要过于追求提供便利的方法</li>
<li>避免过长的参数列表</li>
<li>分解成多个方法</li>
<li>创建辅助类</li>
<li>对于参数类型，要优先使用接口而不是类</li>
<li>对于boolean参数，要优先使用两个元素的枚举类型</li>
</ul>
<p><strong>41. 慎用重载</strong></p>
<ul>
<li>永远不要导出两个具有相同参数数目的重载方法。</li>
<li>必须要保证当传递同样当参数时，所有的重载方法的行为必须一致。</li>
</ul>
<p><strong>42. 慎用可变参数</strong></p>
<ul>
<li>不必改造具有final数组参数的每个方法，只当确定是在数量不定的值上执行调用时才使用可变参数</li>
</ul>
<p><strong>43. 返回零长度的数组或者集合，而不是null</strong></p>
<p><strong>44. 为所有导出的API元素编写文档注释</strong></p>
<p><strong>45. 将局部变量的作用域最小化</strong></p>
<ul>
<li>要使用局部变量的作用域最小化，最有力的方法就是在第一次使用它的地方声明</li>
<li>几乎每个局部变量的声明都应该包含一个初始化表达式</li>
</ul>
<p><strong>46. for-each循环优先于传统的for循环</strong></p>
<p><strong>三种常见的情况无法使用for-each循环</strong></p>
<ul>
<li><strong>过滤</strong>–如果需要遍历集合，并删除选定的元素，就需要使用显示的迭代器，以便可以调用它的remove方法。</li>
<li><strong>转换</strong>–如果需要遍历列表或者数组，并取代它部分或者全部的元素值，就需要列表迭代器或者数组索引，以便设定元素的值</li>
<li><strong>平行迭代</strong>–如果需要并行地遍历多个集合，就需要显示地控制迭代器或者索引变量，以便所有迭代器或者索引变量都可以得到同步前移</li>
</ul>
<p><strong>47. 了解和使用类库</strong></p>
<p><strong>48. 如果需要精确的答案，请避免使用float和double</strong></p>
<p><strong>49. 基本类型优先于装箱基本类型</strong></p>
<ul>
<li>对装箱基本类型运行==操作符几乎总是错误的</li>
<li>当在一项操作中混合使用基本类型和装箱基本类型时，装箱基本类型就会自动拆箱</li>
<li>自动装箱减少了使用装箱基本类型的繁琐性，但是并没有减少它的风险</li>
</ul>
<p><strong>基本类型和装箱基本类型有三个主要区别：</strong></p>
<ul>
<li>基本类型只有值，装箱基本类型则具有与它们的值不同的同一性。</li>
<li>基本类型只有功能完备的值，而每个装箱基本类型除了它对应基本类型的所有功能值之外，还有个非功能值null</li>
<li>基本类型通常比装箱基本类型更节省时间和空间。</li>
</ul>
<p><strong>什么时候应该使用装箱基本类型：</strong></p>
<ul>
<li>作为集合中的元素，键和值</li>
<li>在参数化类型中，必须使用装箱基本类型作为类型参数</li>
<li>反射的方法调用时，必须使用装箱基本类型</li>
</ul>
<p><strong>50. 如果其他类型更适合，则尽量避免使用字符串</strong></p>
<ul>
<li>字符串不适合代替其他的值类型</li>
<li>字符串不适合代替枚举类型</li>
<li>字符串不适合代替聚集类型</li>
<li>字符串不适合代替能力表</li>
</ul>
<p><strong>51. 当心字符串连接的性能</strong></p>
<ul>
<li>为连接n个字符串而重复第使用字符串连接操作符，需要n的平方级的时间。</li>
</ul>
<p><strong>52. 通过接口引用对象</strong></p>
<ul>
<li>如果有合适的接口类型存在，那么对于参数、返回值、变量和域来说，就都应该使用接口类型进行声明</li>
</ul>
<p><strong>53. 接口优先于反射机制</strong></p>
<p><strong>反射机制的缺点：</strong></p>
<ul>
<li>丧失了编译时类型检查的好处</li>
<li>执行反射访问所需要的代码非常笨拙与冗长</li>
<li>性能损失</li>
</ul>
<p><strong>54. 谨慎地使用本地方法</strong></p>
<ul>
<li>使用本地方法来提高性能的做法不值得提倡</li>
</ul>
<p><strong>本地方法的三种用途：</strong></p>
<ul>
<li>它们提供了“访问特定于平台的机制”的能力</li>
<li>提供了访问遗留代码库的能力，从而访问遗留数据。</li>
<li>可以通过本地语言，编写应用程序中注重性能的部分，以提高系统的性能。</li>
</ul>
<p><strong>55. 谨慎地进行优化</strong></p>
<ul>
<li>要努力编写好的程序而不是快的程序</li>
<li>努力避免那些限制性能的设计决策</li>
<li>要考虑API设计决策的性能后果</li>
<li>在每次试图做优化之前和之后，要对性能进行测量</li>
</ul>
<p><strong>56. 遵守普遍接受的命名惯例</strong></p>
<p><strong>57. 只针对异常的情况才使用异常</strong></p>
<p><strong>58. 对可恢复的情况使用受检异常，对编程错误使用运行时异常</strong></p>
<ul>
<li>如果期望调用者能够适当地恢复，对于这种情况就应该使用受检的异常</li>
<li>用运行时异常来表面编程错误</li>
<li>实现的所有未受检的抛出结构都应该是RuntimeExecption的子类</li>
</ul>
<p><strong>59. 避免不必要地使用受检的异常</strong></p>
<p><strong>60. 优先使用标准的异常</strong></p>
<p><strong>61. 抛出与抽象相对应的异常</strong></p>
<ul>
<li>更高层的实现应该捕获低层的异常，同时抛出可以按照高层抽象进行解释的异常，这种做法称为异常转译</li>
<li>尽管异常转译与不加选择的从低层传递异常的做法相比有所改进，但是它也不能被滥用</li>
</ul>
<p><strong>62. 每个方法抛出的异常都要有文档</strong></p>
<ul>
<li>始终要单独地声明受检的异常，并且利用Javadoc的@throws标记，准确地记录下抛出每个异常的条件</li>
</ul>
<p><strong>63. 在细节消息中包含能捕获失败的而信息</strong></p>
<ul>
<li>异常的toString方法应该尽可能多地返回有关失败原因的信息</li>
<li>为了捕获失败，异常的细节消息应该包含所有“对该异常有贡献”的参数和域的值</li>
</ul>
<p><strong>64. 努力使失败保持原子性</strong></p>
<p><strong>65. 不要忽略异常</strong></p>
<ul>
<li>空的catch块会使异常达不到应有的目的，至少应当包含一条说明，解释为什么可以忽略这个异常</li>
</ul>
<p><strong>66. 同步访问共享的可变数据</strong></p>
<ul>
<li>为了在线程之间进行可靠的通信，也为了互斥访问，同步是必要的</li>
<li>如果读和写操作没有都被同步，同步就不会起作用</li>
<li>将可变数据限制在单个线程中</li>
</ul>
<p><strong>67. 避免过度同步</strong></p>
<p><strong>68. executor和task优先于线程</strong></p>
<p><strong>69. 并发工具优先于wait和notify</strong></p>
<p><strong>70. 线程安全性的文档化</strong></p>
<p><strong>71. 慎用延迟初始化</strong></p>
<p><strong>72. 不要依赖于线程调度器</strong></p>
<p><strong>73. 避免使用线程组</strong></p>
<p><strong>74. 谨慎地实现Serializable接口</strong></p>
<ul>
<li>为了继承而设计的类应该尽可能少的实现Serializable接口，用户的接口也应该尽可能少地继承Serializable接口</li>
<li>对于为继承而设计的不可序列化的类，你应该考虑提供一个无参构造器</li>
</ul>
<p><strong>序列化的缺点：</strong></p>
<ul>
<li>一旦一个类被发布，就大大降低了”改变这个类的实现”的灵活性</li>
<li>它增加了出现Bug和安全漏洞的可能性</li>
<li>随着类发行新的版本，相关的测试负担也增加了</li>
</ul>
<p><strong>75. 考虑使用自定义的序列化形式</strong></p>
<p><strong>76. 保护性地编写readObject方法</strong></p>
<p><strong>77. 对于实例控制，枚举类型优先于readResolve</strong></p>
<p><strong>78. 考虑用序列化代理代替序列化实例</strong></p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button>
</div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://luoweiguang.github.io/2016/04/08/Effective Java/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://luoweiguang.github.io/2016/04/08/Effective Java/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//https-luoweiguang-github-io.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
  	

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/04/10/设计模式之创建型模式/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/03/26/线程池简介/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head.jpg" alt="罗炜光's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        luo_weiguang@foxmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=luo_weiguang@foxmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/02/">二月 2016<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Android/">Android<span class="sidebar_archives-count">26</span></a></li><li><a class="sidebar_archives-link" href="/categories/Java/">Java<span class="sidebar_archives-count">22</span></a></li><li><a class="sidebar_archives-link" href="/categories/JavaWeb/">JavaWeb<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tool/">Tool<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/UML/">UML<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/设计模式/">设计模式<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">bookmark</i>
                
                标签
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/luoweiguang" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2016&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>星家|不会搬砖的码农
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- 使用 DISQUS js 代码 -->






<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
